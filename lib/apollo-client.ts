import { ApolloClient, InMemoryCache, createHttpLink } from "@apollo/client";
import { setContext } from "@apollo/client/link/context";

// Your GraphQL endpoint
const httpLink = createHttpLink({
  uri: "https://rakeezaapi.fa.gov.sa/graphql",
});

// Set custom headers including authorization
const authLink = setContext((_, { headers }) => {
  return {
    headers: {
      ...headers,
      "accept-version": "3.0.25",
      access:
        "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkpZaEFjVFBNWl9MWDZEQmxPV1E3SG4wTmVYRSIsImtpZCI6IkpZaEFjVFBNWl9MWDZEQmxPV1E3SG4wTmVYRSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYjk0MmE2ODAtZjIwOS00ZjZkLWIzMjgtMDMwNjIzOTIxZTlhLyIsImlhdCI6MTc1Mzk2NDg2OSwibmJmIjoxNzUzOTY0ODY5LCJleHAiOjE3NTM5NzAwMzksImFjciI6IjEiLCJhaW8iOiJBWlFBYS84WkFBQUEvUFpZeDRFRWVNdjdya2dVQkwyVVNVYkcwWGpPUjQ1b005dVVnbnh2ZDZXaS9GeW1kUndQcWJvRURSMjFkbXR3VkQrbWdTSWRYa0NuVWFtWE1OajVFR0RUS2JpczRNOEdwMGlDbFZBNHUzR1MrSXdiMDd6REwrU0VxL1NyUFFLRnc1ZkhIT3FGOGlJOVNJWnRIWmVsZy9sbGhZWGRMYVZlN1NvNE9SdE1rdkJ2bVh4dmNLck4xWmRBYldTbDM3US8iLCJhbXIiOlsicHdkIl0sImFwcGlkIjoiM2Q5ODNhNzctNGViZC00NjIzLTg1MmItNTgzMmMxY2Q3YWQ1IiwiYXBwaWRhY3IiOiIwIiwiZmFtaWx5X25hbWUiOiJBbGh1c3NhaW4iLCJnaXZlbl9uYW1lIjoiQmlrYXMiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIxMDMuMTAxLjExMC4xMCIsIm5hbWUiOiJCaWthcyBBbGh1c3NhaW4iLCJvaWQiOiJkYmViNTBkNi1mMDQzLTRjNGYtOTY0YS03YzUxZWM4OGQ3ZmEiLCJwdWlkIjoiMTAwMzIwMDJCMDIyODQxOCIsInJoIjoiMS5BVXNBZ0taQ3VRbnliVS16S0FNR0k1SWVta1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTkxBSE5MQUEuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic2lkIjoiMDA2ZjZiODktZDE2ZS1kY2NjLTczMmMtMGQ2MGI3N2Q2YTM3Iiwic3ViIjoiZE1sYlZfcjFUQ2tPdVFzQlhqa3Q4dTlvTXVWcHRqTzE2bWxBMzlCQjhLOCIsInRpZCI6ImI5NDJhNjgwLWYyMDktNGY2ZC1iMzI4LTAzMDYyMzkyMWU5YSIsInVuaXF1ZV9uYW1lIjoid3MwMDE2QGRlbW8ud2Vzb2FyLmFwcCIsInVwbiI6IndzMDAxNkBkZW1vLndlc29hci5hcHAiLCJ1dGkiOiJEcUVHWlBmM0JrdWNJejR4dGl3REFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2Z0ZCI6InM0T1c5S2FMYnhIS2cyRHB5WWJaejF0dFVRWFJGNjVJQmJxbWZ6bmJfU0FCWlhWeWIzQmxibTl5ZEdndFpITnRjdyIsInhtc19pZHJlbCI6IjEgMjQiLCJ4bXNfdGNkdCI6MTY4NjUwMTU2NX0.PNW4sY1_eI786GW7YsAfihgZWCye4boad8GicgC8mgOsGDk1vltBRdmhP8GrB0DBg7NhvhdihjcprQ5tPOYU90mBjOvj65Vbv529CrP4-TZBr3a5r2MG7Cq74KNYF1ajaSM04LrL-lj7SB9vPUrmsOlWlh4awqVUUVgZU7GVTOasgURqji3acN5PZNMjyjewJpMYizdF2VBqkew1up8vd8if5d4uibvP8jtHB6dL9kTq9giFI7ojX-3qkUaqMQBty0W2x4_1ZnbmYyVEK0BKN-gUffkvePnjig15xpwrUFdLM5hSJK1tmb1AHD4L9nsqwTr1JU0kK05I9pOAxfshdw",
      "auth-mode": "azure",
      authorization:
        "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkpZaEFjVFBNWl9MWDZEQmxPV1E3SG4wTmVYRSJ9.eyJhdWQiOiIzZDk4M2E3Ny00ZWJkLTQ2MjMtODUyYi01ODMyYzFjZDdhZDUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MmE2ODAtZjIwOS00ZjZkLWIzMjgtMDMwNjIzOTIxZTlhL3YyLjAiLCJpYXQiOjE3NTM5NjQ4NjksIm5iZiI6MTc1Mzk2NDg2OSwiZXhwIjoxNzUzOTY4NzY5LCJhY2N0IjowLCJhaW8iOiJBWlFBYS84WkFBQUFpZGRCSittOTJVdDVNVnhYL09qYnlKbDlwSThoaVpFcHRqRVJUU0oyOUtMV29rS1huMjFWd2R5RGxaRjRKd0k5bmtNeFhhaVhPWmJuZ2JhSklrS1pjQkJWRWsxc3NWcnlLWTNKcHI0YWR1UkhRVHd4L25mYVkwekN2YnhMdVJCUlh5WlNJcUtjV0h0NnkxdUNKdjE0RU05WWpjTHhSUFRoMXV0eXJNK1ppTDdwMWMvUENVd2lna2d1aGxBd0JlSlIiLCJmYW1pbHlfbmFtZSI6IkFsaHVzc2FpbiIsImdpdmVuX25hbWUiOiJCaWthcyIsImlwYWRkciI6IjEwMy4xMDEuMTEwLjEwIiwibmFtZSI6IkJpa2FzIEFsaHVzc2FpbiIsIm5vbmNlIjoiNDI1MDU0OTMtMjg1Ni00MjVlLWE5MGEtMWQ4Mzk2ODQzMzgwIiwib2lkIjoiZGJlYjUwZDYtZjA0My00YzRmLTk2NGEtN2M1MWVjODhkN2ZhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoid3MwMDE2QGRlbW8ud2Vzb2FyLmFwcCIsInJoIjoiMS5BVXNBZ0taQ3VRbnliVS16S0FNR0k1SWVtbmM2bUQyOVRpTkdoU3RZTXNITmV0VkxBSE5MQUEuIiwic2lkIjoiMDA2ZjZiODktZDE2ZS1kY2NjLTczMmMtMGQ2MGI3N2Q2YTM3Iiwic3ViIjoiMmI2YXZISnVJQjJIbVhXb2dRT0pjaXFDV3NsYnNhVDRXOWFIOTdROF8xMCIsInRpZCI6ImI5NDJhNjgwLWYyMDktNGY2ZC1iMzI4LTAzMDYyMzkyMWU5YSIsInV0aSI6IkRxRUdaUGYzQmt1Y0l6NHh0aXdEQUEiLCJ2ZXIiOiIyLjAifQ.TzIaRYMDEFCw5BHeuxvqkOauFmJNICHZOCHzlyrTSw8K32a_GhbjAGwd8FvNTBTTv5SMIGZKj6n0F-cFWElTMrkDsOhjj3zvoR_mIDOlfHEM42RTJFX5_jU8SrIqD4_ynGR58tae4Mg7CuiGEBnMh2xsnn1BX2F-sUEm_r_PTcx78kHfsEKDsNY_iK2su60AXj1KdfcxpgSZ3OP6bvDg4KhE7M3uAek2Z97n1EsY2rB3WtRzU4iHg8KJ3y6x6o2teqMhGZyLL7l6ZKMUVlpJUYBaFdHtMb3ZPNF4uAmUwtHFmFE3y4nOStKQ6w4Ge53nB6Sy1r8bmwBTNsrm4xb0-A",
      clientid: "b942a680-f209-4f6d-b328-030623921e9a",
      domain: "demo.wesoar.app",
      uid: "61ec5a7da292c106d6f6146d",
    },
  };
});

const client = new ApolloClient({
  link: authLink.concat(httpLink),
  cache: new InMemoryCache(),
});

export default client;
